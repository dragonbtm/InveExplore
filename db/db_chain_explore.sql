

drop table if exists db_accounts;
/*==============================================================*/
/* Table: db_accounts  --账户总数                                      */
/*==============================================================*/
CREATE TABLE `db_accounts` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `number` varchar(200) CHARACTER SET utf8 COLLATE utf8_bin DEFAULT NULL COMMENT '账户数量',
  `create_time` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  `update_time` timestamp NULL DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=27 DEFAULT CHARSET=utf8 COMMENT='账户数量';


alter table db_accounts comment '账户数量';



drop table if exists db_messages;
/*==============================================================*/
/* Table: db_messages      --节点信息表                                     */
/*==============================================================*/
CREATE TABLE `db_messages` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `runTime` varchar(40) DEFAULT NULL,
  `shardNumber` varchar(10) DEFAULT NULL,
  `tps` varchar(30) DEFAULT NULL,
  `userCount` bigint(20) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=9 DEFAULT CHARSET=utf8 COMMENT='节点数据信息';
alter table db_messages comment '节点数据信息';




drop table if exists db_transactions_index;
/*==============================================================*/
/* Table: db_transactions_index         --交易历史索引                         */
/*==============================================================*/
CREATE TABLE `db_transactions_index` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `tableIndex` int(11) DEFAULT NULL,
  `offsets` int(11) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 COMMENT='交易记录索引';



drop table if exists db_transaction_0;

/*==============================================================*/
/* Table: db_transactions         交易历史数据                    */
/*==============================================================*/
CREATE TABLE `db_transaction_0` (
  `id` bigint(255) NOT NULL,
  `fromAddress` varchar(600) DEFAULT NULL,
  `toAddress` varchar(600) DEFAULT NULL,
  `hash` varchar(600) DEFAULT NULL,
  `type` varchar(100) DEFAULT NULL,
  `eHash` varchar(600) DEFAULT NULL,
  `isValid` bigint(20) DEFAULT NULL,
  `updateTime` bigint(20) DEFAULT NULL,
  `snapshot` varchar(200) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8 COMMENT='历史记录';



/*==============================================================*/
/* Table: db_system_auto_tx_0         --奖励交易历史数据          */
/*==============================================================*/
CREATE TABLE `db_system_auto_tx_0` (
  `id` decimal(65,0) NOT NULL,
  `fromAddress` varchar(600) DEFAULT NULL,
  `type` varchar(100) DEFAULT NULL,
  `mHash` varchar(600) DEFAULT NULL,
  `toAddress` varchar(600) DEFAULT NULL,
  `amount` bigint(20) DEFAULT NULL,
  `updateTime` bigint(20) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;


drop table if exists db_system_auto_tx_index;
/*==============================================================*/
/* Table: db_transactions_index         --奖励交易历史索引        */
/*==============================================================*/
CREATE TABLE `db_transactions_index` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT,
  `tableIndex` int(11) DEFAULT NULL,
  `offsets` int(11) DEFAULT NULL,
  `create_time` datetime DEFAULT NULL,
  `update_time` datetime DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=19 DEFAULT CHARSET=utf8 COMMENT='奖励交易记录索引';



/*
  定时任务 数据脚本 --需要再 mysql.sql 文件执行

*/

-- ----------------------------
-- Records of qrtz_cron_triggers
-- ----------------------------
INSERT INTO `qrtz_cron_triggers` VALUES ('RenrenScheduler', 'TASK_3', 'DEFAULT', '0 0/10 * * * ?', 'Asia/Shanghai');
INSERT INTO `qrtz_cron_triggers` VALUES ('RenrenScheduler', 'TASK_5', 'DEFAULT', '0 0/10 * * * ?', 'Asia/Shanghai');

-- ----------------------------
-- Records of qrtz_job_details
-- ----------------------------
INSERT INTO `qrtz_job_details` VALUES ('RenrenScheduler', 'TASK_3', 'DEFAULT', null, 'com.chain.modules.job.utils.ScheduleJob', '0', '0', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000D4A4F425F504152414D5F4B45597372002E636F6D2E636861696E2E6D6F64756C65732E6A6F622E656E746974792E5363686564756C654A6F62456E7469747900000000000000010200084C00086265616E4E616D657400124C6A6176612F6C616E672F537472696E673B4C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C000A6D6574686F644E616D6571007E00094C0006706172616D7371007E00094C000672656D61726B71007E00094C00067374617475737400134C6A6176612F6C616E672F496E74656765723B787074000C6D657373616765735461736B7372000E6A6176612E7574696C2E44617465686A81014B5974190300007870770800000168739CE0757874000D3020302F33202A202A202A203F7372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000000374000B6765744D6573736167657374000074000D3020302F33202A202A202A203F737200116A6176612E6C616E672E496E746567657212E2A0A4F781873802000149000576616C75657871007E0013000000007800);
INSERT INTO `qrtz_job_details` VALUES ('RenrenScheduler', 'TASK_5', 'DEFAULT', null, 'com.chain.modules.job.utils.ScheduleJob', '0', '0', '0', '0', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000D4A4F425F504152414D5F4B45597372002E636F6D2E636861696E2E6D6F64756C65732E6A6F622E656E746974792E5363686564756C654A6F62456E7469747900000000000000010200084C00086265616E4E616D657400124C6A6176612F6C616E672F537472696E673B4C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C000A6D6574686F644E616D6571007E00094C0006706172616D7371007E00094C000672656D61726B71007E00094C00067374617475737400134C6A6176612F6C616E672F496E74656765723B78707400107472616E73616374696F6E735461736B7372000E6A6176612E7574696C2E44617465686A81014B5974190300007870770800000168739D7F2C7874000D30203020302F33202A202A203F7372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B020000787000000000000000057400106765744163636F756E744E756D62657274000074000D30203020302F33202A202A203F737200116A6176612E6C616E672E496E746567657212E2A0A4F781873802000149000576616C75657871007E0013000000007800);

-- ----------------------------
-- Records of qrtz_triggers
-- ----------------------------
INSERT INTO `qrtz_triggers` VALUES ('RenrenScheduler', 'TASK_3', 'DEFAULT', 'TASK_3', 'DEFAULT', null, '1548128400000', '-1', '5', 'WAITING', 'CRON', '1548127887000', '0', null, '2', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000D4A4F425F504152414D5F4B45597372002E636F6D2E636861696E2E6D6F64756C65732E6A6F622E656E746974792E5363686564756C654A6F62456E7469747900000000000000010200084C00086265616E4E616D657400124C6A6176612F6C616E672F537472696E673B4C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C000A6D6574686F644E616D6571007E00094C0006706172616D7371007E00094C000672656D61726B71007E00094C00067374617475737400134C6A6176612F6C616E672F496E74656765723B787074000C6D657373616765735461736B7372000E6A6176612E7574696C2E44617465686A81014B5974190300007870770800000168739CDE987874000E3020302F3130202A202A202A203F7372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B0200007870000000000000000374000B6765744D657373616765737074000E3020302F3130202A202A202A203F737200116A6176612E6C616E672E496E746567657212E2A0A4F781873802000149000576616C75657871007E0013000000007800);
INSERT INTO `qrtz_triggers` VALUES ('RenrenScheduler', 'TASK_5', 'DEFAULT', 'TASK_5', 'DEFAULT', null, '1548128400000', '-1', '5', 'WAITING', 'CRON', '1548127928000', '0', null, '2', 0xACED0005737200156F72672E71756172747A2E4A6F62446174614D61709FB083E8BFA9B0CB020000787200266F72672E71756172747A2E7574696C732E537472696E674B65794469727479466C61674D61708208E8C3FBC55D280200015A0013616C6C6F77735472616E7369656E74446174617872001D6F72672E71756172747A2E7574696C732E4469727479466C61674D617013E62EAD28760ACE0200025A000564697274794C00036D617074000F4C6A6176612F7574696C2F4D61703B787001737200116A6176612E7574696C2E486173684D61700507DAC1C31660D103000246000A6C6F6164466163746F724900097468726573686F6C6478703F4000000000000C7708000000100000000174000D4A4F425F504152414D5F4B45597372002E636F6D2E636861696E2E6D6F64756C65732E6A6F622E656E746974792E5363686564756C654A6F62456E7469747900000000000000010200084C00086265616E4E616D657400124C6A6176612F6C616E672F537472696E673B4C000A63726561746554696D657400104C6A6176612F7574696C2F446174653B4C000E63726F6E45787072657373696F6E71007E00094C00056A6F6249647400104C6A6176612F6C616E672F4C6F6E673B4C000A6D6574686F644E616D6571007E00094C0006706172616D7371007E00094C000672656D61726B71007E00094C00067374617475737400134C6A6176612F6C616E672F496E74656765723B78707400107472616E73616374696F6E735461736B7372000E6A6176612E7574696C2E44617465686A81014B5974190300007870770800000168739D7EC07874000E3020302F3130202A202A202A203F7372000E6A6176612E6C616E672E4C6F6E673B8BE490CC8F23DF0200014A000576616C7565787200106A6176612E6C616E672E4E756D62657286AC951D0B94E08B020000787000000000000000057400106765744163636F756E744E756D6265727074000E3020302F3130202A202A202A203F737200116A6176612E6C616E672E496E746567657212E2A0A4F781873802000149000576616C75657871007E0013000000007800);

-- ----------------------------
-- Records of schedule_job
-- ----------------------------
INSERT INTO `schedule_job` VALUES ('3', 'messagesTask', 'getMessages', null, '0 0/10 * * * ?', '0', '0 0/10 * * * ?', '2019-01-22 11:31:27');
INSERT INTO `schedule_job` VALUES ('5', 'transactionsTask', 'getAccountNumber', null, '0 0/10 * * * ?', '0', '0 0/10 * * * ?', '2019-01-22 11:32:08');





--未使用
CREATE TABLE "transactions_device_address" (
"id"  CHAR NOT NULL,
"device"  CHAR NOT NULL,
"result"  TEXT,
"status"  TEXT,
PRIMARY KEY ("id", "device")
);
CREATE TABLE "coin_type" (
"id"  INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
"coinType"  TEXT NOT NULL,
"confirmations"  smallint DEFAULT -1
);
INSERT INTO "coin_type" VALUES(1,'INVE',-1);
INSERT INTO "coin_type" VALUES(2,'BTC',6);
INSERT INTO "coin_type" VALUES(3,'ETH',12);


